
var express = require('express');
var app = express();
var morgan = require('morgan');

var hostname = 'localhost';
var port = 3000;


var bodyparser = require('body-parser');

app.use(morgan('dev'));

app.use(bodyparser.json());

app.all('/dishes',function (req,res,next) {
	// body...
	res.writeHead(200,{'Content-Type':'text/html'});
	next();
});

app.get('/dishes',function (req,res,next) {
	// body...
	res.end('<h1>Will send u dishes</h1>');
});

app.post('/dishes',function (req,res,next) {
	// body...
	res.end('<h1>Will add dish '+req.body.name+' to the collection</h1>');
});

app.put('/dishes/:dishid',function (req,res,next) {
	// body...
	res.end('<h1>U have to change description of '+req.params.dishid+'</h1>'+	
		'<h2>Description of '+req.body.name+' is changeed to '+req.body.description+'</h2>');
});

app.delete('/dishes',function (req,res,next) {
	// body...
	res.end('<h1>Will delete all dishes</h1>');
});


app.use(express.static(__dirname+'/public'));

app.listen(port,hostname,function () {
	// body...
	console.log('server running');
});